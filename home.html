<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="./Style/home.css" />

    <script src="./Static/lib/anime.min.js"></script>

    <!-- jQuery CDN ของ Google -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

    <title>EPT Real Estate</title>
  </head>

  <body>
    <!-- Menu -->
    <div class="menu">
      <ul>
        <li><a href="#">HOME</a></li>
        <li class="dropdown_menu">
          <a href="#">BUY</a>
          <div class="dropdown_content">
            <ul>
              <li><a href="#">บ้าน</a></li>
              <li><a href="#">คอนโด</a></li>
              <li><a href="#">เชิงพาณิชย์</a></li>
            </ul>
          </div>
        </li>
        <li><a href="#">SELL</a></li>
        <li><a href="#">SEARCH</a></li>
        <li><a href="#">ABOUT US</a></li>
        <li class="align_right_menu"><a href="#">LOGIN</a></li>
      </ul>
    </div>
    <div class="container1">
      <div class="main">
        <h1>ซื้อ ขาย อสังหา ในประเทศไทย</h1>
        <b>เราช่วยคุนหาบ้าน และที่ดินที่ถูกใจ</b>
        <div class="search_box">
          <form action="">
            <input type="text" name="keyword" id="" />
            <select name="property_type" id="">
              <option value="">บ้าน</option>
              <option value="">ที่ดิน</option>
              <option value="">เชิงพาณิชย์</option>
            </select>
            <input type="submit" value="Search" />
          </form>
        </div>
      </div>
    </div>

    <!-- Search -->
    <div class="container2">
      <div class="main2"></div>
    </div>

    <script>
      anime({
        targets: ".main",
        translateY: 0,
        opacity: [0, 1],
        rotate: "2turn",
        backgroundColor: "darkorange",
        duration: 800,
        delay: 800,
      });

      // Resize Background
      $(document).ready(function () {
        let menu_height = $(".menu").height();
        let window_height = $(window).height();
        let image_height = window_height - menu_height;
        $(".container1").height(image_height);

        $(window).resize(function () {
          let menu_height = $(".menu").height();
          let window_height = $(window).height();
          let image_height = window_height - menu_height;
          $(".container1").height(image_height);
        });

        var animationForMain2 = function () {
          if ($(".main2").attr("animation_finished") == 1) {
          } else {
            $(".main2").attr("animation_finished", 1);

            var timeLine = anime
              .timeline({
                easing: "easeOutElastic(5, 5)",
                duration: 800,
              })
              .add({
                targets: ".main2",
                translateY: 250,
                opacity: [0, 1],
                rotate: "1turn",
                backgroundColor: "#f00",
              });
            animation.finished.then(() => {});
          }
        };

        // Trigger event when user scroll to specific element - with jQuery
        $(window).scroll(function () {
          var hT = $(".main2").offset().top,
            hH = $(".main2").outerHeight(),
            wH = $(window).height(),
            wS = $(this).scrollTop();
          if (wS > hT + hH - wH) {
            console.log("H1 on the view!");
            animationForMain2();
          }
        });
      });
    </script>
  </body>
</html>
